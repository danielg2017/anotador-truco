<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Truco</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
</head>

<body>
    <main>
        <section id="screenOne">
            <input type="text" id="team1" placeholder="Equipo 1" />
            <input type="text" id="team2" placeholder="Equipo 2" />
            <div class="space">
                <input type="button" class="sel" value="a 24" />
                <input type="button" class="sel blur" value="a 30" />
            </div>
            <div class="right">
                <input type="button" class="init" value="Iniciar" />
            </div>
        </section>
        <section id="screenTwo">
            <div class="boxes">
                <div class="box one">
                    <div class="line">
                        <input type="button" class="puntos1" value="+">
                        <p></p>
                    </div>
                    <div class="top 1">            
                    </div>
                    <div class="top 2">
                    </div>
                </div>
                <div class="box two">
                    <div class="line">
                        <p></p>
                        <input type="button" class="puntos2" value="+">
                    </div>
                    <div class="top 3">      
                    </div>
                    <div class="top 4">
                    </div>
                </div>
            </div>
            <div class="inline"></div>
            <div class="bot">
                <input type="button" class="puntos1" value="-">
                <p class="punto1">0</p>
                <input type="button" class="out" value="Fin">
                <p class="punto2">0</p>
                <input type="button" class="puntos2" value="-">
            </div>

        </section>
    </main>
    </div>
    <script src="js/jquery3.6.0.min.js"></script>
    <script>

        $(document).ready(function () {

            var team1, team2, gameType;

            $("#screenTwo").hide();

            for (var i = 0; i < 3; i++) {
                $(".top").append('<img src="img/0.png">');
            }

            //./img/0.png
            // Screen One
            // ----------------------------------------------------------------------------------

            $(".sel").on("click", function () {
                if ($(this).hasClass("blur")) $(".sel").toggleClass("blur");
            });

            $(".init").on("click", function () {
                team1 = $("#team1").val() || $("#team1").attr("placeholder");
                team2 = $("#team2").val() || $("#team2").attr("placeholder");
                gameType = $("input.blur").val() == "a 30" ? 24 : 30;

                $(".inline").text("a " + gameType);

                $(".one > div > p").text(team1);
                $(".two > div > p").text(team2);

                $("#screenOne").hide();
                $("#screenTwo").show();
            });

            // Screen Two

            var punto1 = $(".punto1");
            var punto2 = $(".punto2");

            $(".puntos1").on("click", function () {
                if ($(this).val() == "+" && parseInt(punto1.text()) < gameType) {
                    punto1.text(parseInt(punto1.text()) + 1);
                } else if ($(this).val() == "-" && parseInt(punto1.text()) > 0) {
                    punto1.text(parseInt(punto1.text()) - 1);
                }
                for (var i = 0; i <= parseInt(punto1.text()); i++) {
                    if (i <= 5) {
                        $(".1 img")[0].setAttribute("src", `./img/${i}.png`);
                        $(".1 img")[1].setAttribute("src", `./img/0.png`);
                    } else if (i <= 10) {
                        $(".1 img")[1].setAttribute("src", `./img/${i - 5}.png`);
                        $(".1 img")[2].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType / 2) {
                        $(".1 img")[2].setAttribute("src", `./img/${i - 10}.png`);
                        $(".2 img")[0].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType / 2 + 5) {
                        $(".2 img")[0].setAttribute("src", `./img/${i - gameType / 2}.png`);
                        $(".2 img")[1].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType / 2 + 10) {
                        $(".2 img")[1].setAttribute("src", `./img/${i - gameType / 2 - 5}.png`);
                        $(".2 img")[2].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType) {
                        $(".2 img")[2].setAttribute("src", `./img/${i - gameType / 2 - 10}.png`);
                    }
                }
            });

            $(".puntos2").on("click", function () {
                if ($(this).val() == "+" && parseInt(punto2.text()) < gameType) {
                    punto2.text(parseInt(punto2.text()) + 1);
                } else if ($(this).val() == "-" && parseInt(punto2.text()) > 0) {
                    punto2.text(parseInt(punto2.text()) - 1);
                }
                for (var i = 0; i <= parseInt(punto2.text()); i++) {
                    if (i <= 5) {
                        $(".3 img")[0].setAttribute("src", `./img/${i}.png`);
                        $(".3 img")[1].setAttribute("src", `./img/0.png`);
                    } else if (i <= 10) {
                        $(".3 img")[1].setAttribute("src", `./img/${i - 5}.png`);
                        $(".3 img")[2].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType / 2) {
                        $(".3 img")[2].setAttribute("src", `./img/${i - 10}.png`);
                        $(".4 img")[0].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType / 2 + 5) {
                        $(".4 img")[0].setAttribute("src", `./img/${i - gameType / 2}.png`);
                        $(".4 img")[1].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType / 2 + 10) {
                        $(".4 img")[1].setAttribute("src", `./img/${i - gameType / 2 - 5}.png`);
                        $(".4 img")[2].setAttribute("src", `./img/0.png`);
                    } else if (i <= gameType) {
                        $(".4 img")[2].setAttribute("src", `./img/${i - gameType / 2 - 10}.png`);
                    }
                }
            });

            $(".out").on("click", function () {
                $("#team1").val("");
                $("#team2").val("");
                $("img").attr("src", "./img/0.png");
                punto1.text("0");
                punto2.text("0");
                $("#screenTwo").hide();
                $("#screenOne").show();
            });
        });
    </script>
</body>

</html>